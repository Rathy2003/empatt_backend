import{g as k,S as x,y as h,z as C,r as w,c as n,o as l,a as i,b as e,e as u,w as m,n as d,h as r,u as v,d as p,t as g,F as b,j as S,T as V,A as N}from"./app-BbAuhPIs.js";import{_ as D}from"./_plugin-vue_export-helper-DlAUqK2U.js";const L="/build/assets/logo2-0crmaWhe.png",W={components:{Link:x,Head:k},mounted(){const{user:o,role:t}=C().props;this.role=t,this.user=o,this.$page.url.startsWith("/account-information")&&(this.SetdropdownVisible=!0),(t==="admin"||t==="ceo")&&(this.fetchNotificationCount(),this.intervalId=setInterval(()=>{this.fetchNotificationCount()},15e3))},beforeDestroy(){clearInterval(this.intervalId)},data(){return{ProfiledropdownVisible:!1,SetdropdownVisible:!1,offScreenMenuActive:!1,user:null,role:null,unreadCount:0,notifications:[],showDropdown:!1,intervalId:null}},methods:{fetchNotificationCount(){h.get(route("getNotificationCount")).then(o=>{let t=o.data.count;this.unreadCount=t})},toggleDropdown(){this.ProfiledropdownVisible=!this.ProfiledropdownVisible},toggleSetdrop(){this.SetdropdownVisible=!this.SetdropdownVisible},async fetchNotifications(){try{const o=await h.get(route("getAllNotifications"));this.notifications=o.data,this.unreadCount=0}catch(o){console.error("Failed to fetch notifications",o)}},toggleNotifications(){this.showDropdown=!this.showDropdown,this.showDropdown&&this.fetchNotifications()}}},z={class:"main-container"},P={class:"left-container"},I={class:"Left-menu-container mt-4"},A={class:"p-0"},q={key:0},M={key:1},H={key:2},B={key:3},E={class:"settings-dropdown"},F={id:"main-content"},T={id:"nav-bar"},R={class:"d-flex align-items-center gap-3"},j={key:0,class:"position-relative",style:{"margin-top":"5px"}},O={key:0,class:"position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger"},Q={key:1,class:"position-absolute bg-white shadow p-2 mt-2",style:{right:"0",width:"300px","z-index":"999"}},U={key:0},G={class:"list-unstyled mb-0"},J={class:"profile-dropdown"},K={class:"btn-profile"},X={class:"dropdown"},Y={key:0},Z={id:"right-container"},$={class:"link-container"};function ee(o,t,te,oe,s,c){const y=w("Head"),a=w("Link");return l(),n(b,null,[i(y,{title:"Checkplify Admin Panel"}),e("div",z,[e("div",P,[t[15]||(t[15]=e("div",{class:"logo-container"},[e("img",{src:L,class:"logo",style:{width:"30px"}}),e("label",{style:{"font-size":"28px"}},"Checkplify")],-1)),e("div",I,[e("ul",A,[e("li",{class:d({active:o.$page.url.startsWith("/dashboard")})},[i(a,{href:o.route("dashboard"),class:"text-white text-decoration-none d-flex align-items-center gap-2 w-100"},{default:r(()=>t[3]||(t[3]=[e("span",{class:"icon"},[e("i",{class:"fa-solid fa-house"})],-1),e("span",null,"Dashboard",-1)])),_:1,__:[3]},8,["href"])],2),s.role==="developer"?(l(),n("div",q,[e("li",{class:d({active:o.$page.url.startsWith("/company")})},[i(a,{href:o.route("company"),class:"text-white text-decoration-none d-flex align-items-center gap-2 w-100"},{default:r(()=>t[4]||(t[4]=[e("span",{class:"icon"},[e("i",{class:"fa-solid fa-building"})],-1),e("span",null,"Company",-1)])),_:1,__:[4]},8,["href"])],2),e("li",{class:d({active:o.$page.url.startsWith("/user")})},[i(a,{href:o.route("user"),class:"text-white text-decoration-none d-flex align-items-center gap-2 w-100"},{default:r(()=>t[5]||(t[5]=[e("span",{class:"icon"},[e("i",{class:"fa-solid fa-users"})],-1),e("span",null,"User",-1)])),_:1,__:[5]},8,["href"])],2)])):u("",!0),s.role==="ceo"?(l(),n("div",M,[e("li",{class:d({active:o.$page.url.startsWith("/position")})},[i(a,{href:o.route("position.index"),class:"text-white text-decoration-none d-flex align-items-center gap-2 w-100"},{default:r(()=>t[6]||(t[6]=[e("span",{class:"icon"},[e("i",{class:"fa-solid fa-user-tie"})],-1),e("span",null,"Position",-1)])),_:1,__:[6]},8,["href"])],2)])):u("",!0),s.role==="admin"||s.role==="ceo"?(l(),n("div",H,[e("li",{class:d({active:o.$page.url.startsWith("/request-leave")})},[i(a,{href:o.route("request-leave.index"),class:"text-white text-decoration-none d-flex align-items-center gap-2 w-100"},{default:r(()=>t[7]||(t[7]=[e("span",{class:"icon"},[e("i",{class:"fa-solid fa-person-walking-arrow-right"})],-1),e("span",null,"Request Leave",-1)])),_:1,__:[7]},8,["href"])],2),e("li",{class:d({active:o.$page.url.startsWith("/overtime")})},[i(a,{href:o.route("overtime.index"),class:"text-white text-decoration-none d-flex align-items-center gap-2 w-100"},{default:r(()=>t[8]||(t[8]=[e("span",{class:"icon"},[e("i",{class:"fa-solid fa-clock"})],-1),e("span",null,"Overtime",-1)])),_:1,__:[8]},8,["href"])],2),e("li",{class:d({active:o.$page.url.startsWith("/employee")})},[i(a,{href:o.route("employee.index"),class:"text-white text-decoration-none d-flex align-items-center gap-2 w-100"},{default:r(()=>t[9]||(t[9]=[e("span",{class:"icon"},[e("i",{class:"fa-solid fa-user-plus"})],-1),e("span",null,"Employee",-1)])),_:1,__:[9]},8,["href"])],2),e("li",{class:d({active:o.$page.url.startsWith("/qrcode")})},[i(a,{href:o.route("qrcode"),class:"text-white text-decoration-none d-flex align-items-center gap-2 w-100"},{default:r(()=>t[10]||(t[10]=[e("span",{class:"icon"},[e("i",{class:"fa-solid fa-qrcode"})],-1),e("span",null,"QR Code",-1)])),_:1,__:[10]},8,["href"])],2)])):u("",!0),s.role==="admin"?(l(),n("div",B)):u("",!0),e("li",null,[e("button",{onClick:t[0]||(t[0]=(...f)=>c.toggleSetdrop&&c.toggleSetdrop(...f)),class:"text-white text-decoration-none d-flex align-items-center gap-2 w-100"},[t[11]||(t[11]=e("span",{class:"icon"},[e("i",{class:"fa-solid fa-gear"})],-1)),t[12]||(t[12]=e("span",{style:{"font-size":"17px","font-weight":"500"}},"Settings",-1)),e("i",{class:d(["fa-solid fa-angle-down",{rotate:s.SetdropdownVisible,"rotate-back":!s.SetdropdownVisible}])},null,2)])]),m(e("div",E,[e("ul",null,[s.role==="admin"||s.role==="ceo"?(l(),n("li",{key:0,class:d({active:o.$page.url.startsWith("/account-information")})},[i(a,{href:o.route("accountInformation")},{default:r(()=>t[13]||(t[13]=[p(" Account Information ")])),_:1,__:[13]},8,["href"])],2)):u("",!0),e("li",null,[i(a,{href:o.route("processLogout")},{default:r(()=>t[14]||(t[14]=[p(" Log out ")])),_:1,__:[14]},8,["href"])])])],512),[[v,s.SetdropdownVisible]])])])]),e("div",F,[e("div",T,[t[21]||(t[21]=e("div",{id:"menu-bar-wrapper"},[e("label",{for:"chk-menu"},[e("i",{class:"fa-solid fa-bars"})]),e("input",{type:"checkbox",id:"chk-menu"})],-1)),e("div",R,[s.role==="admin"||s.role==="ceo"?(l(),n("div",j,[e("button",{type:"button",class:"btn icon-btn",style:{padding:"5px"},onClick:t[1]||(t[1]=(...f)=>c.toggleNotifications&&c.toggleNotifications(...f))},t[16]||(t[16]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",class:"bi bi-bell",viewBox:"0 0 16 16"},[e("path",{d:"M8 16a2 2 0 0 0 2-2H6a2 2 0 0 0 2 2zM8 1.918l-.797.161A4.002 4.002 0 0 0 4 6c0 .628-.134 2.197-.459 3.742-.16.767-.376 1.566-.663 2.258h10.244c-.287-.692-.502-1.49-.663-2.258C12.134 8.197 12 6.628 12 6a4.002 4.002 0 0 0-3.203-3.92L8 1.917zM14.22 12c.223.447.481.801.78 1H1c.299-.199.557-.553.78-1C2.68 10.2 3 6.88 3 6c0-2.42 1.72-4.44 4.005-4.901a1 1 0 1 1 1.99 0A5.002 5.002 0 0 1 13 6c0 .88.32 4.2 1.22 6z"})],-1)])),s.unreadCount>0?(l(),n("span",O,g(s.unreadCount),1)):u("",!0),s.showDropdown?(l(),n("div",Q,[s.notifications.length===0?(l(),n("div",U,"No new notifications")):u("",!0),e("ul",G,[(l(!0),n(b,null,S(s.notifications,(f,_)=>(l(),n("li",{key:_,class:"border-bottom py-1"},[e("strong",null,g(f.data.title),1),t[17]||(t[17]=e("br",null,null,-1)),e("small",null,g(new Date(f.created_at).toLocaleString()),1)]))),128))])])):u("",!0)])):u("",!0),e("div",{class:"profile-container",onClick:t[2]||(t[2]=(...f)=>c.toggleDropdown&&c.toggleDropdown(...f))},[t[20]||(t[20]=e("i",{class:"fa-solid fa-user"},null,-1)),e("div",J,[e("button",K,[p(g(s.user?s.user.firstname:"")+" ",1),e("i",{class:d(["fa-solid fa-angle-down",{rotate:s.ProfiledropdownVisible,"rotate-back":!s.ProfiledropdownVisible}]),style:{"background-color":"white","font-size":"20px"}},null,2)]),i(V,{name:"fade"},{default:r(()=>[m(e("div",X,[e("ul",null,[s.role==="admin"||s.role==="ceo"?(l(),n("li",Y,[i(a,{href:o.route("accountInformation")},{default:r(()=>t[18]||(t[18]=[p(" Edit Profile ")])),_:1,__:[18]},8,["href"])])):u("",!0),e("li",null,[i(a,{href:o.route("processLogout")},{default:r(()=>t[19]||(t[19]=[p(" Log out ")])),_:1,__:[19]},8,["href"])])])],512),[[v,s.ProfiledropdownVisible]])]),_:1})])])])]),e("div",Z,[e("div",$,[N(o.$slots,"default")])])])])],64)}const ne=D(W,[["render",ee]]);export{ne as M};

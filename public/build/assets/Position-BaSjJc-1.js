import{M as h}from"./MainLayout-BnnnTmoP.js";import{k as v,c as y,o as n,w as P,b as o,t as d,j as u,f as r,h as b,n as M,l as c,e as g,F as C,m as k,x as f}from"./app-X9y9n1zk.js";import{_ as x}from"./_plugin-vue_export-helper-DlAUqK2U.js";const w={components:{MainLayout:h},props:{errors:Object,positions:Array},mounted(){$("#addPositionModal").on("hidden.bs.modal",()=>{this.clearForms()}),$("#deletePositionModal").on("hidden.bs.modal",()=>{this.clearForms()})},data(){return{form_data:f({id:null,name:null,description:null})}},methods:{clearForms(){this.form_data=f({id:null,name:null,description:null})},submitForm(){let e=this.form_data.id?route("position.update",this.form_data.id):route("position.store");this.form_data.post(e,{onFinish:t=>{this.errors.name||($("#addPositionModal").modal("hide"),this.clearForms())},onError:t=>{console.log(t)}})},editPosition(e){this.form_data.id=e.id,this.form_data.name=e.name,this.form_data.description=e.description,$("#addPositionModal").modal("show")},deletePosition(e){this.form_data.id=e.id,$("#deletePositionModal").modal("show")},deletePositionConfirm(){this.form_data.post(route("position.delete"),{onFinish:e=>{$("#deletePositionModal").modal("hide"),this.clearForms()}})}}},F={class:"container"},L={class:"row"},D={class:"modal fade",id:"deletePositionModal",tabindex:"-1","aria-labelledby":"deletePositionModalLabel","aria-hidden":"true"},N={class:"modal-dialog"},V={class:"modal-content"},A={class:"modal-footer"},B={class:"modal fade",id:"addPositionModal",tabindex:"-1","aria-labelledby":"addPositionModalLabel","aria-hidden":"true"},j={class:"modal-dialog"},E={class:"modal-content"},S={class:"modal-header"},T={class:"modal-title",id:"addPositionModalLabel"},U={class:"modal-body"},q={class:"row"},z={class:"form-group mb-3"},O={key:0,class:"invalid-feedback"},R={class:"form-group mb-3"},G={class:"modal-footer"},H={class:"Report-wrapper"},I={key:0,class:"table-container"},J=["onClick"],K=["onClick"];function Q(e,t,a,W,l,i){const p=v("MainLayout");return n(),y(p,null,{default:P(()=>[o("div",F,[o("div",L,[o("div",D,[o("div",N,[o("div",V,[t[5]||(t[5]=o("div",{class:"modal-header"},[o("h5",{class:"modal-title",id:"deletePositionModalLabel"},"Delete Position"),o("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1)),t[6]||(t[6]=o("div",{class:"modal-body"},[o("p",null,"Are you sure you want to delete this position?")],-1)),o("div",A,[t[4]||(t[4]=o("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Close",-1)),o("button",{onClick:t[0]||(t[0]=(...s)=>i.deletePositionConfirm&&i.deletePositionConfirm(...s)),type:"button",class:"btn btn-danger"},"Delete")])])])]),o("div",B,[o("div",j,[o("div",E,[o("div",S,[o("h5",T,d(l.form_data.id?"Edit Position":"Add Position"),1),t[7]||(t[7]=o("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),o("div",U,[o("div",q,[o("div",z,[t[8]||(t[8]=o("label",{for:"name",class:"form-label mb-2"},"Name",-1)),u(o("input",{"onUpdate:modelValue":t[1]||(t[1]=s=>l.form_data.name=s),type:"text",class:M([{"is-invalid":a.errors.name},"form-control"]),id:"name",name:"name"},null,2),[[c,l.form_data.name]]),a.errors.name?(n(),r("div",O,d(a.errors.name),1)):b("",!0)]),o("div",R,[t[9]||(t[9]=o("label",{for:"description",class:"form-label mb-2"},"Description",-1)),u(o("textarea",{"onUpdate:modelValue":t[2]||(t[2]=s=>l.form_data.description=s),class:"form-control",rows:"8",id:"description",name:"description"},null,512),[[c,l.form_data.description]])])])]),o("div",G,[t[10]||(t[10]=o("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Close",-1)),o("button",{onClick:t[3]||(t[3]=(...s)=>i.submitForm&&i.submitForm(...s)),type:"button",class:"btn btn-primary"},"Save")])])])]),o("div",H,[t[14]||(t[14]=o("div",{class:"d-flex justify-content-between align-items-center"},[o("div",{class:"search-container"},[o("div",{class:"txt-search"},[o("i",{class:"fa-solid fa-magnifying-glass"}),o("input",{type:"text",placeholder:"Search name, email or phone number"})])]),o("button",{class:"primary-button","data-bs-toggle":"modal","data-bs-target":"#addPositionModal"},[o("i",{class:"fa-solid fa-plus"}),g("  New Position")])],-1)),a.positions.data.length>0?(n(),r("div",I,[o("table",null,[t[13]||(t[13]=o("thead",null,[o("tr",null,[o("th",null,"#"),o("th",null,"Name"),o("th",null,"Description"),o("th",null,"Action")])],-1)),o("tbody",null,[(n(!0),r(C,null,k(a.positions.data,(s,m)=>(n(),r("tr",{key:"position_list"+m},[o("td",null,d(m+1),1),o("td",null,d(s.name),1),o("td",null,d(s.description),1),o("td",null,[o("button",{onClick:_=>i.deletePosition(s),class:"btn btn-outline-danger"},t[11]||(t[11]=[o("i",{class:"fa-solid fa-trash"},null,-1)]),8,J),o("button",{onClick:_=>i.editPosition(s),class:"btn btn-outline-primary mx-2"},t[12]||(t[12]=[o("i",{class:"fa-solid fa-pen-to-square"},null,-1)]),8,K)])]))),128))])])])):b("",!0)])])])]),_:1})}const oo=x(w,[["render",Q]]);export{oo as default};

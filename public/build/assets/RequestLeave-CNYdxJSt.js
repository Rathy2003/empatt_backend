import{M as g}from"./MainLayout-BLFQDNJQ.js";import{r as f,i as b,o as a,f as y,b as e,c as l,e as c,w as L,v as k,F as h,j as m,t as n,n as x,W as _,x as C}from"./app-CLHKMZB6.js";import{d as T}from"./dayjs.min-DQqXedPt.js";import{_ as M}from"./_plugin-vue_export-helper-DlAUqK2U.js";const S={components:{MainLayout:g},props:{requestLeaves:Object,filters:Object},data(){return{search:this.filters.search||"",debounceTimer:null}},methods:{searchItems(){clearTimeout(this.debounceTimer),this.debounceTimer=setTimeout(()=>{_.get(route("request-leave.index"),{search:this.search},{preserveState:!0,replace:!0})},300)},toggleStatus(o,s){C({id:o.id,status:s}).post(route("request-leave.update-status"),{onSuccess:()=>{console.log("d")},onError:()=>{console.log("d")}})},goToPage(o){_.visit(o,{preserveScroll:!0,preserveState:!0})},formatDate(o){return T(o).format("DD-MMM-YYYY hh:mm:ss A")}}},q={class:"container"},D={class:"row"},j={class:"Report-wrapper"},w={class:"d-flex justify-content-between align-items-center"},I={class:"search-container"},B={class:"txt-search"},R=["disabled"],Y={key:0,class:"table-container"},A=["onClick"],E=["onClick"],N={key:1,class:"pagination"},V=["disabled","onClick","innerHTML"];function F(o,s,r,H,i,u){const p=f("MainLayout");return a(),b(p,null,{default:y(()=>[e("div",q,[e("div",D,[e("div",j,[e("div",w,[e("div",I,[e("div",B,[s[2]||(s[2]=e("i",{class:"fa-solid fa-magnifying-glass"},null,-1)),L(e("input",{type:"text","onUpdate:modelValue":s[0]||(s[0]=t=>i.search=t),onInput:s[1]||(s[1]=(...t)=>u.searchItems&&u.searchItems(...t)),placeholder:"Search by employee name",disabled:!this.filters.search&&r.requestLeaves.data.length==0,autocomplete:"off"},null,40,R),[[k,i.search]])])])]),r.requestLeaves.data.length>0?(a(),l("div",Y,[e("table",null,[s[3]||(s[3]=e("thead",null,[e("tr",null,[e("th",null,"ID"),e("th",null,"Employee Name"),e("th",null,"Title"),e("td",null,"Reason"),e("td",null,"Duration"),e("th",null,"Created At"),e("th",null,"Status")])],-1)),e("tbody",null,[(a(!0),l(h,null,m(r.requestLeaves.data,(t,d)=>(a(),l("tr",{key:"employee_list"+d},[e("td",null,n(d+1),1),e("td",null,n(t.employee.firstname)+" "+n(t.employee.lastname),1),e("td",null,n(t.title),1),e("td",null,n(t.reason),1),e("td",null,n(t.duration)+" Days",1),e("td",null,n(u.formatDate(t.created_at)),1),e("td",null,[t.status==="pending"||t.status==="accepted"?(a(),l("button",{key:0,onClick:v=>u.toggleStatus(t,"rejected"),class:"btn btn-danger"},"Reject",8,A)):c("",!0),t.status==="pending"||t.status==="rejected"?(a(),l("button",{key:1,onClick:v=>u.toggleStatus(t,"accepted"),class:"btn btn-success mx-3"},"Accept",8,E)):c("",!0)])]))),128))])])])):c("",!0),r.requestLeaves.data.length>0?(a(),l("div",N,[(a(!0),l(h,null,m(r.requestLeaves.links,t=>(a(),l("button",{key:t.label,disabled:!t.url,onClick:d=>u.goToPage(t.url),innerHTML:t.label,class:x(["px-2 pagination-item",{"pagination-item-active":t.active}])},null,10,V))),128))])):c("",!0)])])])]),_:1})}const U=M(S,[["render",F],["__scopeId","data-v-c3376a23"]]);export{U as default};
